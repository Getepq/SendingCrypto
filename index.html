<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SendingCrypto</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    body {
      background: linear-gradient(180deg, #18233d 0%, #253556 100%);
      color: white;
      font-family: "Inter", sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 1rem;
      overflow-x: hidden;
    }

    .glass {
      background: rgba(30, 41, 59, 0.65);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.05);
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.25);
      border-radius: 1rem;
    }

    .fade-in {
      opacity: 0;
      transform: translateY(10px);
      animation: fadeInUp 0.6s ease-out forwards;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .btn {
      transition: all 0.2s ease;
      transform: scale(1);
      position: relative;
      border: 1px solid rgba(168, 85, 247, 0.3);
    }

    .btn::before {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: 1rem;
      box-shadow: 0 0 8px rgba(168, 85, 247, 0);
      transition: box-shadow 0.3s ease;
    }

    .btn:hover::before {
      box-shadow: 0 0 12px rgba(168, 85, 247, 0.6);
    }

    .btn:active {
      transform: scale(0.95);
      background-color: rgba(100, 44, 150, 0.2);
    }
  </style>
</head>

<body>
  <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
  <div id="header" class="glass w-full max-w-sm p-4 flex items-center gap-3 mt-3 fade-in">
    <img id="user-photo" src="https://via.placeholder.com/48" alt="avatar" class="w-12 h-12 rounded-full border border-gray-600" />
    <div>
      <h2 id="user-name" class="text-lg font-semibold">–ì–æ—Å—Ç—å</h2>
      <p class="text-sm text-gray-400">Crypto Bot</p>
    </div>
  </div>

  <!-- –ë–∞–ª–∞–Ω—Å -->
  <div class="glass w-full max-w-sm p-5 text-center mt-4 fade-in">
    <h1 id="balance" class="text-4xl font-bold">$0</h1>
    <p class="text-gray-400 text-sm flex items-center justify-center gap-1 mt-1">
      –û–±—â–∏–π –±–∞–ª–∞–Ω—Å –≤ USD
      <span id="eye" class="cursor-pointer text-lg">üëÅÔ∏è</span>
    </p>
  </div>

  <!-- –ö–Ω–æ–ø–∫–∏ -->
  <div class="grid grid-cols-4 gap-3 w-full max-w-sm mt-5 fade-in">
    <button class="glass p-3 rounded-2xl btn" onclick="showAlert()">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
    <button class="glass p-3 rounded-2xl btn" onclick="showAlert()">–í—ã–≤–µ—Å—Ç–∏</button>
    <button class="glass p-3 rounded-2xl btn" onclick="showAlert()">–û–±–º–µ–Ω</button>
    <button class="glass p-3 rounded-2xl btn" onclick="showAlert()">–ë–∏—Ä–∂–∞</button>
  </div>

  <!-- QR -->
  <div class="glass w-full max-w-sm p-4 mt-6 flex items-center justify-between fade-in">
    <div>
      <h3 class="font-semibold text-sm">–û–ø–ª–∞—Ç–∞ –ø–æ QR-–∫–æ–¥—É</h3>
      <p class="text-xs text-gray-400">–û–ø–ª–∞—á–∏–≤–∞–π—Ç–µ –ª—é–±—ã–µ –ø–æ–∫—É–ø–∫–∏ —Å –ø–æ–º–æ—â—å—é –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã</p>
    </div>
    <div class="w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center text-lg shadow-md">üí≥</div>
  </div>

  <!-- –ê–∫—Ç–∏–≤—ã -->
  <div class="w-full max-w-sm mt-6 fade-in">
    <div class="flex justify-between items-center mb-2">
      <h3 class="text-sm text-gray-400">–ê–∫—Ç–∏–≤—ã</h3>
      <p class="text-sm text-purple-400 cursor-pointer">–°–∫—Ä—ã—Ç—å –º–µ–ª–∫–∏–µ –±–∞–ª–∞–Ω—Å—ã</p>
    </div>

    <div id="assets"></div>
  </div>

  <script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    const user = tg.initDataUnsafe?.user;
    if (user) {
      document.getElementById("user-name").textContent = `${user.first_name} ${user.last_name || ""}`;
      document.getElementById("user-photo").src = user.photo_url || "https://via.placeholder.com/48";
    }

    const balanceEl = document.getElementById("balance");
    const eyeEl = document.getElementById("eye");
    let visible = true;
    eyeEl.addEventListener("click", () => {
      visible = !visible;
      balanceEl.textContent = visible ? "$0" : "‚Ä¢‚Ä¢‚Ä¢‚Ä¢";
    });

    function showAlert() {
      alert("–§—É–Ω–∫—Ü–∏—è —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ üí´");
    }

    async function loadRates() {
      try {
        const res = await fetch("https://api.coingecko.com/api/v3/simple/price?ids=tether,toncoin,solana&vs_currencies=usd");
        const data = await res.json();

        const assets = [
          { name: "Tether", symbol: "USDT", price: data.tether.usd, color: "bg-green-500" },
          { name: "Toncoin", symbol: "TON", price: data.toncoin.usd, color: "bg-blue-500" },
          { name: "Solana", symbol: "SOL", price: data.solana.usd, color: "bg-purple-500" },
        ];

        const container = document.getElementById("assets");
        container.innerHTML = assets.map(a => `
          <div class="glass p-4 mb-3 flex items-center justify-between transition hover:scale-[1.02]">
            <div class="flex items-center gap-3">
              <div class="w-8 h-8 ${a.color} rounded-full flex items-center justify-center text-sm font-bold">${a.symbol[0]}</div>
              <span>${a.name}</span>
            </div>
            <div class="text-right text-sm text-gray-300">
              0 ${a.symbol}<br><span class="text-xs text-gray-400">$${a.price.toFixed(2)}</span>
            </div>
          </div>
        `).join("");
      } catch (e) {
        console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫—É—Ä—Å–æ–≤:", e);
      }
    }

    loadRates();
    setInterval(loadRates, 60000);
  </script>
</body>
</html>
